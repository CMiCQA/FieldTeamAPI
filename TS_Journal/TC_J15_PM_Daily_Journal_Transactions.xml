<?xml version="1.0" encoding="UTF-8"?>
<con:testCase xmlns:con="http://eviware.com/soapui/config" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="f05668c5-7b52-463e-a2d6-202f25d0a783" discardOkResults="false" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="TC_J15_PM_Daily_Journal_Transactions" searchProperties="true" timeout="0">
  <con:settings id="fc666ae0-47ba-4034-b8f3-0809c80e467a">
    <con:setting id="f05668c5-7b52-463e-a2d6-202f25d0a783fileName">TC_J15_PM_Daily_Journal_Transactions</con:setting>
  </con:settings>
  <con:testStep type="datasource" name="Data Source" id="3137bc3a-7f3f-4a6b-bd57-e01d39bdc5db">
    <con:settings/>
    <con:config xsi:type="con:DataSourceStep">
      <con:dataSource type="Data Generator">
        <con:configuration>
          <generatedDataCount>1</generatedDataCount>
          <generatorsTotalNumber>2</generatorsTotalNumber>
          <lastSelectedProperty>1</lastSelectedProperty>
          <GeneratorType0>STR</GeneratorType0>
          <PropertyName0>JobCode</PropertyName0>
          <repetitionCountJobCode>0</repetitionCountJobCode>
          <repeatValuesJobCode>false</repeatValuesJobCode>
          <PasswordDataGeneratorUseSpacesJobCode>false</PasswordDataGeneratorUseSpacesJobCode>
          <PasswordDataGeneratorUsePunctuationMarksJobCode>false</PasswordDataGeneratorUsePunctuationMarksJobCode>
          <PasswordDataGeneratorUseLettersJobCode>true</PasswordDataGeneratorUseLettersJobCode>
          <PasswordDataGeneratorUseDigitsJobCode>true</PasswordDataGeneratorUseDigitsJobCode>
          <PasswordDataGeneratorMaxCharacterCountJobCode>4</PasswordDataGeneratorMaxCharacterCountJobCode>
          <PasswordDataGeneratorMinCharacterCountJobCode>4</PasswordDataGeneratorMinCharacterCountJobCode>
          <GeneratorType1>STR</GeneratorType1>
          <PropertyName1>JournalID</PropertyName1>
          <repetitionCountJournalID>0</repetitionCountJournalID>
          <repeatValuesJournalID>false</repeatValuesJournalID>
          <PasswordDataGeneratorUseSpacesJournalID>false</PasswordDataGeneratorUseSpacesJournalID>
          <PasswordDataGeneratorUsePunctuationMarksJournalID>false</PasswordDataGeneratorUsePunctuationMarksJournalID>
          <PasswordDataGeneratorUseLettersJournalID>true</PasswordDataGeneratorUseLettersJournalID>
          <PasswordDataGeneratorUseDigitsJournalID>true</PasswordDataGeneratorUseDigitsJournalID>
          <PasswordDataGeneratorMaxCharacterCountJournalID>10</PasswordDataGeneratorMaxCharacterCountJournalID>
          <PasswordDataGeneratorMinCharacterCountJournalID>5</PasswordDataGeneratorMinCharacterCountJournalID>
          <escapeSpaceSequence/>
        </con:configuration>
      </con:dataSource>
      <con:shared>true</con:shared>
      <con:restartShared>true</con:restartShared>
      <con:property>JobCode</con:property>
      <con:property>JournalID</con:property>
      <con:restartOnRun>true</con:restartOnRun>
      <con:stopDatasourceExhausted>false</con:stopDatasourceExhausted>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="Login" id="a296a09e-a5f2-4e97-9323-358ef3da757e">
    <con:settings/>
    <con:config service="ConstructPM Webservices" methodName="Login" resourcePath="/cmic-field-rest-api/jersey/v1/login/{cmic-env}" xsi:type="con:RestRequestStep">
      <con:restRequest name="Login" id="dd3deeb3-b92e-4688-bae8-3c451e379e74" mediaType="application/json">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:encoding>UTF-8</con:encoding>
        <con:endpoint>https://qamob.cmicpaas.com</con:endpoint>
        <con:request/>
        <con:originalUri>https://nova-mobile-test.cmiccloud.com/cmictestnew/cmic-field-rest-api/jersey/v1/login/</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="748beaf4-c442-470d-b2d0-17f69ffd6671" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="Response SLA Assertion" id="6389098b-38c2-45de-9085-2117c1c02304" name="Response SLA" disabled="true">
          <con:configuration>
            <SLA>200</SLA>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters/>
        <con:environmentSpec>
          <con:entry environmentId="dcf09228-28f0-461d-97ba-ae52da190086">
            <con:authProfile>QALATEST</con:authProfile>
          </con:entry>
          <con:entry environmentId="e6982624-acb8-444c-873d-074f9555a666">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="8c42fbef-6237-4219-8044-b73695a4c38c">
            <con:authProfile>QADAILY2</con:authProfile>
          </con:entry>
          <con:entry environmentId="a4f87cd8-f67a-452d-bd63-2a15b6cdd2b6">
            <con:authProfile>TESTRAIL</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="Post New Journal" id="0480ed75-6a89-4413-b795-27425fad500a">
    <con:settings/>
    <con:config service="All Webservices" resourcePath="/pm-rest-api/rest/1/pmdailyjournal" methodName="Create Journal" xsi:type="con:RestRequestStep">
      <con:restRequest name="Post New Journal" id="6a03d59f-b7b3-4a45-94c9-04d5cbe71d86" mediaType="application/vnd.oracle.adf.resourceitem+json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:request>{\r
   "GpmjCompCode" : "${Login#Response#$['companyCode']}",\r
   "GpmjProjCode" : "${Login#Response#$['defaultProjectCode']}",\r
   "GpmjJournalId" : "${Data Source#JournalID}",\r
   "GpmjPrepContactCode" : "${Login#Response#$['contactCode']}",\r
   "GpmjPrepPartnCode" : "${Login#Response#$['partnerCode']}",\r
   "GpmjPrepPartnTypeCode" : "${Login#Response#$['partnerTypeCode']}",\r
   "GpmjVUuid" : ""\r
}</con:request>
        <con:originalUri>https://qalatestmob.cmicpaas.com/cmicqalatest/pm-rest-api/rest/1/pmdailyjournal</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="045b4a41-a3ee-4761-a140-a0fb01af896e" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>201</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="Response SLA Assertion" id="513a90a9-0dde-4a7f-9ac0-ad5733c1ccba" name="Response SLA" disabled="true">
          <con:configuration>
            <SLA>200</SLA>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters/>
        <con:environmentSpec>
          <con:entry environmentId="e6982624-acb8-444c-873d-074f9555a666">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="8c42fbef-6237-4219-8044-b73695a4c38c">
            <con:authProfile>QADAILY2</con:authProfile>
          </con:entry>
          <con:entry environmentId="666f0f54-3a2d-4ab8-b829-d61485c4034e">
            <con:authProfile>UPG</con:authProfile>
          </con:entry>
          <con:entry environmentId="4a8025f4-94ea-4501-9fea-c97dcac8b6cf">
            <con:authProfile>NOVATEST</con:authProfile>
          </con:entry>
          <con:entry environmentId="dcf09228-28f0-461d-97ba-ae52da190086">
            <con:authProfile>QALATEST</con:authProfile>
          </con:entry>
          <con:entry environmentId="a4f87cd8-f67a-452d-bd63-2a15b6cdd2b6">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="Get All Transactions" id="897f98e4-69bb-45b1-90f8-3863c97eb964">
    <con:settings/>
    <con:config service="All Webservices" resourcePath="/pm-rest-api/rest/1/pmdailyjourtran" methodName="Retrieve Journal Transactions" xsi:type="con:RestRequestStep">
      <con:restRequest name="Get All Transactions" id="f7270cbe-2dea-49c8-ab3d-a8816cc71acd" mediaType="application/json">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:request/>
        <con:originalUri>https://qalatestmob.cmicpaas.com/cmicqalatest/pm-rest-api/rest/1/pmdailyjourtran</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="0e47e354-0594-412e-9880-8fcf71468250" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="Response SLA Assertion" id="dcd4e21b-4c32-4f93-85af-b02b1c487548" name="Response SLA" disabled="true">
          <con:configuration>
            <SLA>200</SLA>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters/>
        <con:environmentSpec>
          <con:entry environmentId="e6982624-acb8-444c-873d-074f9555a666">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="8c42fbef-6237-4219-8044-b73695a4c38c">
            <con:authProfile>QADAILY2</con:authProfile>
          </con:entry>
          <con:entry environmentId="666f0f54-3a2d-4ab8-b829-d61485c4034e">
            <con:authProfile>UPG</con:authProfile>
          </con:entry>
          <con:entry environmentId="4a8025f4-94ea-4501-9fea-c97dcac8b6cf">
            <con:authProfile>NOVATEST</con:authProfile>
          </con:entry>
          <con:entry environmentId="dcf09228-28f0-461d-97ba-ae52da190086">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="a4f87cd8-f67a-452d-bd63-2a15b6cdd2b6">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="Post New Transaction" id="6c63349e-f349-4fd6-87d3-725fbb30a4d2">
    <con:settings/>
    <con:config service="All Webservices" resourcePath="/pm-rest-api/rest/1/pmdailyjourtran" methodName="Create Transaction" xsi:type="con:RestRequestStep">
      <con:restRequest name="Post New Transaction" id="520582bb-2df5-4f5d-9a19-710d3ad7d3c5" mediaType="application/vnd.oracle.adf.resourceitem+json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:request>{\r
   "PmjutCompCode" : "${Login#Response#$['companyCode']}",\r
   "PmjutJobCode" : "${Data Source#JobCode}",\r
   "PmjutNotes" : "test123",\r
   "PmjutPhsActiveFlag" : "Y",\r
   "PmjutPhsCode" : "1",\r
   "PmjutProjQty" : 1,\r
   "PmjutTranQty" : "",\r
   "PmjutWmCode" : "HR",\r
   "PmjutJourVuuid" : "${Post New Journal#Response#$['GpmjVUuid']}",\r
   "PmjutVUuid" : ""\r
}</con:request>
        <con:originalUri>https://qalatestmob.cmicpaas.com/cmicqalatest/pm-rest-api/rest/1/pmdailyjourtran</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="3daf11bd-85c5-4dfe-9372-0cc1d79ae432" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>201</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="Response SLA Assertion" id="95905f45-1345-4034-b0a5-809e0c64a996" name="Response SLA" disabled="true">
          <con:configuration>
            <SLA>200</SLA>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters/>
        <con:environmentSpec>
          <con:entry environmentId="e6982624-acb8-444c-873d-074f9555a666">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="8c42fbef-6237-4219-8044-b73695a4c38c">
            <con:authProfile>QADAILY2</con:authProfile>
          </con:entry>
          <con:entry environmentId="666f0f54-3a2d-4ab8-b829-d61485c4034e">
            <con:authProfile>UPG</con:authProfile>
          </con:entry>
          <con:entry environmentId="4a8025f4-94ea-4501-9fea-c97dcac8b6cf">
            <con:authProfile>NOVATEST</con:authProfile>
          </con:entry>
          <con:entry environmentId="dcf09228-28f0-461d-97ba-ae52da190086">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="a4f87cd8-f67a-452d-bd63-2a15b6cdd2b6">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="Update Transactions" id="77e0ed05-8dc0-4f04-8ad1-a0bc0c5caca6">
    <con:settings/>
    <con:config service="All Webservices" resourcePath="/pm-rest-api/rest/1/pmdailyjourtran/{Uuid}" methodName="Update Specific" xsi:type="con:RestRequestStep">
      <con:restRequest name="Update Transactions" id="d871c20b-aac1-4694-b2d3-58a499688695" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:request>{\r
   "PmjutTranQty" : "1"\r
}</con:request>
        <con:originalUri>https://qalatestmob.cmicpaas.com/cmicqalatest/pm-rest-api/rest/1/pmdailyjourtran/112A2E703D162778E06338251DAC6A4A</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="dfeaa06d-a473-4fa3-8c7f-af95236cc002" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Uuid" value="${Post New Transaction#Response#$['PmjutVUuid']}"/>
        </con:parameters>
        <con:environmentSpec>
          <con:entry environmentId="e6982624-acb8-444c-873d-074f9555a666">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="8c42fbef-6237-4219-8044-b73695a4c38c">
            <con:authProfile>QADAILY2</con:authProfile>
          </con:entry>
          <con:entry environmentId="666f0f54-3a2d-4ab8-b829-d61485c4034e">
            <con:authProfile>UPG</con:authProfile>
          </con:entry>
          <con:entry environmentId="4a8025f4-94ea-4501-9fea-c97dcac8b6cf">
            <con:authProfile>NOVATEST</con:authProfile>
          </con:entry>
          <con:entry environmentId="dcf09228-28f0-461d-97ba-ae52da190086">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="a4f87cd8-f67a-452d-bd63-2a15b6cdd2b6">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="Get Transaction Via VUUid" id="c9db87c7-8790-478e-871c-430aa06fcf05">
    <con:settings/>
    <con:config service="All Webservices" resourcePath="/pm-rest-api/rest/1/pmdailyjourtran/{Uuid}" methodName="Retrieve Specific" xsi:type="con:RestRequestStep">
      <con:restRequest name="Get Transaction Via VUUid" id="b9b378c4-c0a6-43b9-a588-bb11570296d9" mediaType="application/json">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:request/>
        <con:originalUri>https://qalatestmob.cmicpaas.com/cmicqalatest/pm-rest-api/rest/1/pmdailyjourtran/112A2E703D3C2778E06338251DAC6A4A</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="6d7dae37-f1e3-4f8a-8ea8-24b40847e0d0" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Uuid" value="${Post New Transaction#Response#$['PmjutJourVuuid']}"/>
        </con:parameters>
        <con:environmentSpec>
          <con:entry environmentId="e6982624-acb8-444c-873d-074f9555a666">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="8c42fbef-6237-4219-8044-b73695a4c38c">
            <con:authProfile>QADAILY2</con:authProfile>
          </con:entry>
          <con:entry environmentId="666f0f54-3a2d-4ab8-b829-d61485c4034e">
            <con:authProfile>UPG</con:authProfile>
          </con:entry>
          <con:entry environmentId="4a8025f4-94ea-4501-9fea-c97dcac8b6cf">
            <con:authProfile>NOVATEST</con:authProfile>
          </con:entry>
          <con:entry environmentId="dcf09228-28f0-461d-97ba-ae52da190086">
            <con:authProfile>QALATEST</con:authProfile>
          </con:entry>
          <con:entry environmentId="a4f87cd8-f67a-452d-bd63-2a15b6cdd2b6">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="Get Transaction Via SelectByJournal" id="19c040f5-3d14-4b51-a1e0-2d64879c7f01">
    <con:settings/>
    <con:config service="All Webservices" resourcePath="/pm-rest-api/rest/1/pmdailyjourtran" methodName="Retrieve Journal Transactions" xsi:type="con:RestRequestStep">
      <con:restRequest name="Get Transaction Via SelectByJournal" id="f7270cbe-2dea-49c8-ab3d-a8816cc71acd" mediaType="application/json">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:request/>
        <con:originalUri>https://qalatestmob.cmicpaas.com/cmicqalatest/pm-rest-api/rest/1/pmdailyjourtran</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="c7423907-1f47-4c69-9b41-68afc8971083" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="finder" value="selectByJournal;JournalVuuid=${Post New Journal#Response#$['GpmjVUuid']}"/>
        </con:parameters>
        <con:environmentSpec>
          <con:entry environmentId="e6982624-acb8-444c-873d-074f9555a666">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="8c42fbef-6237-4219-8044-b73695a4c38c">
            <con:authProfile>QADAILY2</con:authProfile>
          </con:entry>
          <con:entry environmentId="666f0f54-3a2d-4ab8-b829-d61485c4034e">
            <con:authProfile>UPG</con:authProfile>
          </con:entry>
          <con:entry environmentId="4a8025f4-94ea-4501-9fea-c97dcac8b6cf">
            <con:authProfile>NOVATEST</con:authProfile>
          </con:entry>
          <con:entry environmentId="dcf09228-28f0-461d-97ba-ae52da190086">
            <con:authProfile>QALATEST</con:authProfile>
          </con:entry>
          <con:entry environmentId="a4f87cd8-f67a-452d-bd63-2a15b6cdd2b6">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="Delete Transactions" id="d31d7f17-4034-4ac1-a412-d842a0bf5afb">
    <con:settings/>
    <con:config service="All Webservices" resourcePath="/pm-rest-api/rest/1/pmdailyjourtran/{Uuid}" methodName="Delete Specific" xsi:type="con:RestRequestStep">
      <con:restRequest name="Delete Transactions" id="a2100bee-3979-43f6-9c87-6664f3419290" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:request/>
        <con:originalUri>https://qalatestmob.cmicpaas.com/cmicqalatest/pm-rest-api/rest/1/pmdailyjourtran/112A2E703D502778E06338251DAC6A4A</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="3fb695c6-f50b-4f7a-b388-3a7380dee679" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Uuid" value="${Post New Transaction#Response#$['PmjutVUuid']}"/>
        </con:parameters>
        <con:environmentSpec>
          <con:entry environmentId="e6982624-acb8-444c-873d-074f9555a666">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="8c42fbef-6237-4219-8044-b73695a4c38c">
            <con:authProfile>QADAILY2</con:authProfile>
          </con:entry>
          <con:entry environmentId="666f0f54-3a2d-4ab8-b829-d61485c4034e">
            <con:authProfile>UPG</con:authProfile>
          </con:entry>
          <con:entry environmentId="4a8025f4-94ea-4501-9fea-c97dcac8b6cf">
            <con:authProfile>NOVATEST</con:authProfile>
          </con:entry>
          <con:entry environmentId="dcf09228-28f0-461d-97ba-ae52da190086">
            <con:authProfile>QALATEST</con:authProfile>
          </con:entry>
          <con:entry environmentId="a4f87cd8-f67a-452d-bd63-2a15b6cdd2b6">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="Get Transaction Via VUUid - Ensure deletion" id="5a8e37f7-aca7-4688-a6ca-5289dad6c009">
    <con:settings/>
    <con:config service="All Webservices" resourcePath="/pm-rest-api/rest/1/pmdailyjourtran/{Uuid}" methodName="Retrieve Specific" xsi:type="con:RestRequestStep">
      <con:restRequest name="Get Transaction Via VUUid - Ensure deletion" id="b9b378c4-c0a6-43b9-a588-bb11570296d9" mediaType="application/json">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:request/>
        <con:originalUri>https://qalatestmob.cmicpaas.com/cmicqalatest/pm-rest-api/rest/1/pmdailyjourtran/112A2E703D5C2778E06338251DAC6A4A</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="7263331e-18db-4530-a0ab-691faf5c12b2" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>404,400</codes>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Uuid" value="${Post New Transaction#Response#$['PmjutVUuid']}"/>
        </con:parameters>
        <con:environmentSpec>
          <con:entry environmentId="e6982624-acb8-444c-873d-074f9555a666">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="8c42fbef-6237-4219-8044-b73695a4c38c">
            <con:authProfile>QADAILY2</con:authProfile>
          </con:entry>
          <con:entry environmentId="666f0f54-3a2d-4ab8-b829-d61485c4034e">
            <con:authProfile>UPG</con:authProfile>
          </con:entry>
          <con:entry environmentId="4a8025f4-94ea-4501-9fea-c97dcac8b6cf">
            <con:authProfile>NOVATEST</con:authProfile>
          </con:entry>
          <con:entry environmentId="dcf09228-28f0-461d-97ba-ae52da190086">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="a4f87cd8-f67a-452d-bd63-2a15b6cdd2b6">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="Delete Journal" id="3ba98540-3c16-4bd2-94f2-efe29bd02de3">
    <con:settings/>
    <con:config service="ConstructPM Webservices" resourcePath="/cmic-field-rest-api/rest/1/journals/{UUID}" methodName="Method 2" xsi:type="con:RestRequestStep">
      <con:restRequest name="Delete Journal" id="5747a12c-2282-46b2-a403-c731704ccec7" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:endpoint>https://qamob.cmicpaas.com</con:endpoint>
        <con:request/>
        <con:originalUri>https://qalatestmob.cmicpaas.com/cmicqalatest/cmic-field-rest-api/rest/1/journals/112BDBFA4FBBF77DE06338251DACD08B</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="91d363fc-3eaf-4bdf-b65c-3fd368a8a75c" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>204</codes>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="UUID" value="${Post New Journal#Response#$['GpmjVUuid']}"/>
        </con:parameters>
        <con:environmentSpec>
          <con:entry environmentId="4a8025f4-94ea-4501-9fea-c97dcac8b6cf">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="666f0f54-3a2d-4ab8-b829-d61485c4034e">
            <con:authProfile>UPG</con:authProfile>
          </con:entry>
          <con:entry environmentId="e6982624-acb8-444c-873d-074f9555a666">
            <con:authProfile>QADAILY</con:authProfile>
          </con:entry>
          <con:entry environmentId="8c42fbef-6237-4219-8044-b73695a4c38c">
            <con:authProfile>QADAILY2</con:authProfile>
          </con:entry>
          <con:entry environmentId="dcf09228-28f0-461d-97ba-ae52da190086">
            <con:authProfile>QALATEST</con:authProfile>
          </con:entry>
          <con:entry environmentId="a4f87cd8-f67a-452d-bd63-2a15b6cdd2b6">
            <con:authProfile>TESTRAIL</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:tearDownScript>import groovy.json.JsonOutput
import java.net.HttpURLConnection
import java.net.URL

// Function to post test result to TestRail
def postTestResultToTestRail() {

	def testRailUrl = context.expand( '${#Global#TestRailUrl}' )
	def testRailUsername = context.expand( '${#Global#TestRailUserName}' )
	def testRailApiKey = context.expand( '${#Global#TestRailAPIkey}' )
	
	// Define your TestRail project ID and test run ID
	def projectId = context.expand( '${#Project#projectID}' )
	def testRunId = context.expand( '${#Project#RunID}' )
	
	// Define the test case ID for the test you want to post results for
	def testCaseId = context.expand( '${#TestCase#TestCaseID}' )  
	
	// loop through previous steps to get results to see if all passed
	def testCaseName = testRunner.testCase.name
	def failedTestStep = ""
	def testMsg = ""
	def result = ""
	def statusId = ""
	def comment = ""
	
	for(r in testRunner.results) {
		if(r.getStatus().toString() != "PASS") {
			result = context.expand('${' + r.testStep.name + '#Response}')
		 	failedTestStep =  r.testStep.name
			break
		}
	}
	// set test status and comment based on previous step results
	if(failedTestStep == "") {
		testMsg = testCaseName + " has passed successfully"
		statusId = 1
		comment = testMsg 
	} else {
		testMsg = testCaseName + " has failed on test step: \'" + failedTestStep + "\'"
		if(result != "") {
			testMsg = testMsg + " with reason - " + result
		}
		statusId = 5
		comment = testMsg 
	}	
    def postUrl = "${testRailUrl}/add_result_for_case/${testRunId}/${testCaseId}"

    def connection = new URL(postUrl).openConnection() as HttpURLConnection
    connection.requestMethod = 'POST'
    connection.doOutput = true
    connection.setRequestProperty("Content-Type", "application/json")
    connection.setRequestProperty("Authorization", "Basic " + "${testRailUsername}:${testRailApiKey}".bytes.encodeBase64().toString())

    def requestBody = [
        status_id: statusId,
        comment: comment
    ]

    def outputStream = connection.outputStream
    outputStream.write(JsonOutput.toJson(requestBody).getBytes())
    outputStream.flush()

    def responseCode = connection.responseCode
    def responseMessage = connection.responseMessage

    log.info("Response code: ${responseCode}")
    log.info("Response message: ${responseMessage}")
}

// Post test result to TestRail
postTestResultToTestRail()</con:tearDownScript>
  <con:properties>
    <con:property>
      <con:name>TestCaseID</con:name>
      <con:value>104618</con:value>
    </con:property>
  </con:properties>
  <con:reportParameters/>
  <con:environmentSpec>
    <con:entry environmentId="a4f87cd8-f67a-452d-bd63-2a15b6cdd2b6">
      <con:authProfile>Inherit From Parent</con:authProfile>
    </con:entry>
  </con:environmentSpec>
  <con:tagId>c4a9b3b0-fe4d-44b8-a1cd-e873e92e452a</con:tagId>
  <con:tagId>75c6c237-fc73-4932-9321-beb05919beb4</con:tagId>
</con:testCase>
