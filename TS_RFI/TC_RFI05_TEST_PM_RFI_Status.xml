<?xml version="1.0" encoding="UTF-8"?>
<con:testCase xmlns:con="http://eviware.com/soapui/config" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" id="fb76dde6-635d-4cb6-b967-c2aa371da443" discardOkResults="false" failOnError="false" failTestCaseOnErrors="true" keepSession="false" name="TC_RFI05_TEST_PM_RFI_Status" searchProperties="true" timeout="0">
  <con:settings id="b1c4f825-fe26-4afa-9755-16c05ef6cf71">
    <con:setting id="86b38790-84da-4f7a-bf69-10bf70556971fileName">TC_RFI05_TEST_PM_RFI_Status</con:setting>
    <con:setting id="fb76dde6-635d-4cb6-b967-c2aa371da443fileName">TC_RFI05_TEST_PM_RFI_Status</con:setting>
  </con:settings>
  <con:testStep type="datasource" name="Data Source" id="921161fc-3f70-4bd5-a48b-dad671ecfe82">
    <con:settings/>
    <con:config xsi:type="con:DataSourceStep">
      <con:dataSource type="Data Generator">
        <con:configuration>
          <generatedDataCount>1</generatedDataCount>
          <generatorsTotalNumber>1</generatorsTotalNumber>
          <lastSelectedProperty>0</lastSelectedProperty>
          <GeneratorType0>STR</GeneratorType0>
          <PropertyName0>StatusCode</PropertyName0>
          <repetitionCountStatusCode>0</repetitionCountStatusCode>
          <repeatValuesStatusCode>false</repeatValuesStatusCode>
          <PasswordDataGeneratorUseSpacesStatusCode>false</PasswordDataGeneratorUseSpacesStatusCode>
          <PasswordDataGeneratorUsePunctuationMarksStatusCode>false</PasswordDataGeneratorUsePunctuationMarksStatusCode>
          <PasswordDataGeneratorUseLettersStatusCode>true</PasswordDataGeneratorUseLettersStatusCode>
          <PasswordDataGeneratorUseDigitsStatusCode>true</PasswordDataGeneratorUseDigitsStatusCode>
          <PasswordDataGeneratorMaxCharacterCountStatusCode>5</PasswordDataGeneratorMaxCharacterCountStatusCode>
          <PasswordDataGeneratorMinCharacterCountStatusCode>5</PasswordDataGeneratorMinCharacterCountStatusCode>
          <escapeSpaceSequence/>
        </con:configuration>
      </con:dataSource>
      <con:shared>true</con:shared>
      <con:restartShared>true</con:restartShared>
      <con:property>StatusCode</con:property>
      <con:restartOnRun>true</con:restartOnRun>
      <con:stopDatasourceExhausted>false</con:stopDatasourceExhausted>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="Get All RFIs" id="c419d183-6fad-4305-a9a4-d8cc0da22881">
    <con:settings/>
    <con:config service="All Webservices" resourcePath="/pm-rest-api/rest/1/pmrfi" methodName="Retrieve RFIs" xsi:type="con:RestRequestStep">
      <con:restRequest name="Get All RFIs" id="19445539-5254-4f71-9006-79b674e46aa6" mediaType="application/json">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:request/>
        <con:originalUri>https://qalatestmob.cmicpaas.com/cmicqalatest/pm-rest-api/rest/1/pmrfi</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="af8f4a5e-b3d6-4fd8-aa8d-66a1be73c1b1" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="Response SLA Assertion" id="a57beefa-5d62-4ce6-ab1f-45db5fff5f3e" name="Response SLA" disabled="true">
          <con:configuration>
            <SLA>200</SLA>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="limit" value="5"/>
          <con:entry key="finder" value=""/>
        </con:parameters>
        <con:environmentSpec>
          <con:entry environmentId="e6982624-acb8-444c-873d-074f9555a666">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="8c42fbef-6237-4219-8044-b73695a4c38c">
            <con:authProfile>QADAILY2</con:authProfile>
          </con:entry>
          <con:entry environmentId="666f0f54-3a2d-4ab8-b829-d61485c4034e">
            <con:authProfile>UPG</con:authProfile>
          </con:entry>
          <con:entry environmentId="4a8025f4-94ea-4501-9fea-c97dcac8b6cf">
            <con:authProfile>NOVATEST</con:authProfile>
          </con:entry>
          <con:entry environmentId="dcf09228-28f0-461d-97ba-ae52da190086">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="a4f87cd8-f67a-452d-bd63-2a15b6cdd2b6">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="Create New RFI" id="0b6af72b-d30b-4f79-bfb8-40be88704d68">
    <con:settings/>
    <con:config service="All Webservices" resourcePath="/pm-rest-api/rest/1/pmrfi" methodName="Create RFI (NEED TO TAKE ANOTHER LOOK)" xsi:type="con:RestRequestStep">
      <con:restRequest name="Create New RFI" id="e40e3600-2d1e-4587-957d-fcd298229aa9" mediaType="application/vnd.oracle.adf.resourceitem+json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:request>{\r
   "PmrfiCompCode" : "${Get All RFIs#Response#$['items'][0]['PmrfiCompCode']}",\r
   "PmrfiProjCode" : "${Get All RFIs#Response#$['items'][0]['PmrfiProjCode']}",\r
   "PmrfiFromPartnCode" : "${Get All RFIs#Response#$['items'][0]['PmrfiFromPartnCode']}",\r
   "PmrfiFromPartnTypeCode" : "${Get All RFIs#Response#$['items'][0]['PmrfiFromPartnTypeCode']}",\r
   "PmrfiFromContactCode" : "${Get All RFIs#Response#$['items'][0]['PmrfiFromContactCode']}",\r
   "PmrfiToPartnCode" : "${Get All RFIs#Response#$['items'][0]['PmrfiToPartnCode']}",\r
   "PmrfiToPartnTypeCode" : "${Get All RFIs#Response#$['items'][0]['PmrfiToPartnTypeCode']}",\r
   "PmrfiToContactCode" : "${Get All RFIs#Response#$['items'][0]['PmrfiToContactCode']}",\r
   "PmrfiSubject" : "test webservice",\r
   "PmrfiAcceptSuggestionFlag" : "Y",\r
   "PmrfiVUuid" : ""\r
}</con:request>
        <con:originalUri>https://qalatestmob.cmicpaas.com/cmicqalatest/pm-rest-api/rest/1/pmrfi</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="9fedd273-0251-49f1-bd63-1657b548960e" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>201</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="Response SLA Assertion" id="eb8991a3-f343-480c-8530-396b636f9ae0" name="Response SLA" disabled="true">
          <con:configuration>
            <SLA>200</SLA>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters/>
        <con:environmentSpec>
          <con:entry environmentId="e6982624-acb8-444c-873d-074f9555a666">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="8c42fbef-6237-4219-8044-b73695a4c38c">
            <con:authProfile>QADAILY2</con:authProfile>
          </con:entry>
          <con:entry environmentId="666f0f54-3a2d-4ab8-b829-d61485c4034e">
            <con:authProfile>UPG</con:authProfile>
          </con:entry>
          <con:entry environmentId="4a8025f4-94ea-4501-9fea-c97dcac8b6cf">
            <con:authProfile>NOVATEST</con:authProfile>
          </con:entry>
          <con:entry environmentId="dcf09228-28f0-461d-97ba-ae52da190086">
            <con:authProfile>QALATEST</con:authProfile>
          </con:entry>
          <con:entry environmentId="a4f87cd8-f67a-452d-bd63-2a15b6cdd2b6">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="Get All Status" id="a3a10aa3-aa4b-4279-97cf-4646a8605f1f">
    <con:settings/>
    <con:config service="All Webservices" resourcePath="/pm-rest-api/rest/1/pmrfistatus" methodName="Retrieve RFI Statuses" xsi:type="con:RestRequestStep">
      <con:restRequest name="Get All Status" id="39293f73-56e7-459d-ad2a-cd8534e1fb27" mediaType="application/json">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:request/>
        <con:originalUri>https://qalatestmob.cmicpaas.com/cmicqalatest/pm-rest-api/rest/1/pmrfistatus</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="ed2a7821-3643-4faa-8654-8a4d42425957" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="Response SLA Assertion" id="5c2a3900-8c70-406b-96e2-6dc056f6798e" name="Response SLA" disabled="true">
          <con:configuration>
            <SLA>200</SLA>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters/>
        <con:environmentSpec>
          <con:entry environmentId="e6982624-acb8-444c-873d-074f9555a666">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="8c42fbef-6237-4219-8044-b73695a4c38c">
            <con:authProfile>QADAILY2</con:authProfile>
          </con:entry>
          <con:entry environmentId="666f0f54-3a2d-4ab8-b829-d61485c4034e">
            <con:authProfile>UPG</con:authProfile>
          </con:entry>
          <con:entry environmentId="4a8025f4-94ea-4501-9fea-c97dcac8b6cf">
            <con:authProfile>NOVATEST</con:authProfile>
          </con:entry>
          <con:entry environmentId="dcf09228-28f0-461d-97ba-ae52da190086">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="a4f87cd8-f67a-452d-bd63-2a15b6cdd2b6">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="Get Status Via PmRfiStatusFinder" id="b2c5ada1-434e-4a8d-8003-4a37a0efcea3">
    <con:settings/>
    <con:config service="All Webservices" resourcePath="/pm-rest-api/rest/1/pmrfistatus" methodName="Retrieve RFI Statuses" xsi:type="con:RestRequestStep">
      <con:restRequest name="Get Status Via PmRfiStatusFinder" id="39293f73-56e7-459d-ad2a-cd8534e1fb27" mediaType="application/json">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:request/>
        <con:originalUri>https://qalatestmob.cmicpaas.com/cmicqalatest/pm-rest-api/rest/1/pmrfistatus</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="5ba4701c-f74b-4b93-84a0-7a70912151c6" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="Response SLA Assertion" id="f543526d-b403-4912-874b-b6f5f5e3a875" name="Response SLA">
          <con:configuration>
            <SLA>200</SLA>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="finder" value="PmRfiStatusFinder;StatusClassCode=${Get All Status#Response#$['items'][0]['PmrfisStatusClassCode']},StatusName=${Get All Status#Response#$['items'][0]['PmrfisStatusName']}"/>
        </con:parameters>
        <con:environmentSpec>
          <con:entry environmentId="e6982624-acb8-444c-873d-074f9555a666">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="8c42fbef-6237-4219-8044-b73695a4c38c">
            <con:authProfile>QADAILY2</con:authProfile>
          </con:entry>
          <con:entry environmentId="666f0f54-3a2d-4ab8-b829-d61485c4034e">
            <con:authProfile>UPG</con:authProfile>
          </con:entry>
          <con:entry environmentId="4a8025f4-94ea-4501-9fea-c97dcac8b6cf">
            <con:authProfile>NOVATEST</con:authProfile>
          </con:entry>
          <con:entry environmentId="dcf09228-28f0-461d-97ba-ae52da190086">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="a4f87cd8-f67a-452d-bd63-2a15b6cdd2b6">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="Create New Status" id="14adec8c-3981-4475-b797-bcff47aaee47">
    <con:settings/>
    <con:config service="All Webservices" resourcePath="/pm-rest-api/rest/1/pmrfistatus" methodName="Create Status" xsi:type="con:RestRequestStep">
      <con:restRequest name="Create New Status" id="bda21399-7b17-4573-b337-fcb99f512f27" mediaType="application/vnd.oracle.adf.resourceitem+json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:request>{\r
   "PmrfisStatusClassCode" : "Z",\r
   "PmrfisStatusCode" : "${Data Source#StatusCode}",\r
   "PmrfisSystemFlag" : "N"\r
}</con:request>
        <con:originalUri>https://qalatestmob.cmicpaas.com/cmicqalatest/pm-rest-api/rest/1/pmrfistatus</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="857026b0-9bb7-4166-b2c9-7dbaa55f84c1" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>201</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="Response SLA Assertion" id="09af67ac-fbaf-4535-8342-a16f7e5aaec4" name="Response SLA" disabled="true">
          <con:configuration>
            <SLA>200</SLA>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters/>
        <con:environmentSpec>
          <con:entry environmentId="e6982624-acb8-444c-873d-074f9555a666">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="8c42fbef-6237-4219-8044-b73695a4c38c">
            <con:authProfile>QADAILY2</con:authProfile>
          </con:entry>
          <con:entry environmentId="666f0f54-3a2d-4ab8-b829-d61485c4034e">
            <con:authProfile>UPG</con:authProfile>
          </con:entry>
          <con:entry environmentId="4a8025f4-94ea-4501-9fea-c97dcac8b6cf">
            <con:authProfile>NOVATEST</con:authProfile>
          </con:entry>
          <con:entry environmentId="dcf09228-28f0-461d-97ba-ae52da190086">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="a4f87cd8-f67a-452d-bd63-2a15b6cdd2b6">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="Update status" id="ed5038a1-bb4d-4ff2-81ab-38b326e90c48">
    <con:settings/>
    <con:config service="All Webservices" resourcePath="/pm-rest-api/rest/1/pmrfistatus/{StatusCode}" methodName="Update Specific" xsi:type="con:RestRequestStep">
      <con:restRequest name="Update status" id="3a09e3b4-fd43-4d6b-856e-6c92ea780db9" mediaType="application/vnd.oracle.adf.resourceitem+json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:request>{\r
   "PmrfisStatusName" : "Returned - test123"\r
}</con:request>
        <con:originalUri>https://qalatestmob.cmicpaas.com/cmicqalatest/pm-rest-api/rest/1/pmrfistatus/gI</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="3a2f8a23-5cae-4fec-8107-591c61c0fc03" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="Response SLA Assertion" id="bdcd28d1-7974-4b30-8867-755f0633e60b" name="Response SLA" disabled="true">
          <con:configuration>
            <SLA>200</SLA>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="StatusCode" value="${Create New Status#Response#$['PmrfisStatusCode']}"/>
        </con:parameters>
        <con:environmentSpec>
          <con:entry environmentId="e6982624-acb8-444c-873d-074f9555a666">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="8c42fbef-6237-4219-8044-b73695a4c38c">
            <con:authProfile>QADAILY2</con:authProfile>
          </con:entry>
          <con:entry environmentId="666f0f54-3a2d-4ab8-b829-d61485c4034e">
            <con:authProfile>UPG</con:authProfile>
          </con:entry>
          <con:entry environmentId="4a8025f4-94ea-4501-9fea-c97dcac8b6cf">
            <con:authProfile>NOVATEST</con:authProfile>
          </con:entry>
          <con:entry environmentId="dcf09228-28f0-461d-97ba-ae52da190086">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="a4f87cd8-f67a-452d-bd63-2a15b6cdd2b6">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="Get Status Via Status Code" id="9e68ee79-03ab-4750-8afe-878c784fa4c1">
    <con:settings/>
    <con:config service="All Webservices" resourcePath="/pm-rest-api/rest/1/pmrfistatus/{StatusCode}" methodName="Retrieve Specific" xsi:type="con:RestRequestStep">
      <con:restRequest name="Get Status Via Status Code" id="69a17131-da34-4205-886e-049a91071447" mediaType="application/json">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:request/>
        <con:originalUri>https://qalatestmob.cmicpaas.com/cmicqalatest/pm-rest-api/rest/1/pmrfistatus/gI</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="c04a3550-f610-46a3-a16c-3149474e8a59" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>200</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="Response SLA Assertion" id="acca269c-9e81-49a3-826c-5485e9af4f55" name="Response SLA" disabled="true">
          <con:configuration>
            <SLA>200</SLA>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="StatusCode" value="${Create New Status#Response#$['PmrfisStatusCode']}"/>
        </con:parameters>
        <con:environmentSpec>
          <con:entry environmentId="e6982624-acb8-444c-873d-074f9555a666">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="8c42fbef-6237-4219-8044-b73695a4c38c">
            <con:authProfile>QADAILY2</con:authProfile>
          </con:entry>
          <con:entry environmentId="666f0f54-3a2d-4ab8-b829-d61485c4034e">
            <con:authProfile>UPG</con:authProfile>
          </con:entry>
          <con:entry environmentId="4a8025f4-94ea-4501-9fea-c97dcac8b6cf">
            <con:authProfile>NOVATEST</con:authProfile>
          </con:entry>
          <con:entry environmentId="dcf09228-28f0-461d-97ba-ae52da190086">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="a4f87cd8-f67a-452d-bd63-2a15b6cdd2b6">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:testStep type="restrequest" name="Delete RFI" id="2e798e93-9f4c-472e-b400-3b801dd3bc1e">
    <con:settings/>
    <con:config service="All Webservices" resourcePath="/pm-rest-api/rest/1/pmrfi/{Uuid}" methodName="Delete Specific" xsi:type="con:RestRequestStep">
      <con:restRequest name="Delete RFI" id="83b56004-b501-4610-b3f3-80cf42b49b48" mediaType="application/json" postQueryString="false">
        <con:settings>
          <con:setting id="com.eviware.soapui.impl.wsdl.WsdlRequest@request-headers">&lt;xml-fragment/></con:setting>
        </con:settings>
        <con:request/>
        <con:originalUri>https://qalatestmob.cmicpaas.com/cmicqalatest/pm-rest-api/rest/1/pmrfi/afd7ef5f-04b3-478b-aa6d-c72a393ec8aa</con:originalUri>
        <con:assertion type="Valid HTTP Status Codes" id="59300e83-2dba-4682-9b9b-c09ab63677dd" name="Valid HTTP Status Codes">
          <con:settings/>
          <con:configuration>
            <codes>204</codes>
          </con:configuration>
        </con:assertion>
        <con:assertion type="Response SLA Assertion" id="91c7f6ea-a1d4-4927-8bb1-ab600391463b" name="Response SLA" disabled="true">
          <con:configuration>
            <SLA>200</SLA>
          </con:configuration>
        </con:assertion>
        <con:credentials>
          <con:selectedAuthProfile>No Authorization</con:selectedAuthProfile>
          <con:authType>No Authorization</con:authType>
        </con:credentials>
        <con:jmsConfig JMSDeliveryMode="PERSISTENT"/>
        <con:parameters>
          <con:entry key="Uuid" value="${Create New RFI#Response#$['PmrfiVUuid']}"/>
        </con:parameters>
        <con:environmentSpec>
          <con:entry environmentId="e6982624-acb8-444c-873d-074f9555a666">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
          <con:entry environmentId="8c42fbef-6237-4219-8044-b73695a4c38c">
            <con:authProfile>QADAILY2</con:authProfile>
          </con:entry>
          <con:entry environmentId="666f0f54-3a2d-4ab8-b829-d61485c4034e">
            <con:authProfile>UPG</con:authProfile>
          </con:entry>
          <con:entry environmentId="4a8025f4-94ea-4501-9fea-c97dcac8b6cf">
            <con:authProfile>NOVATEST</con:authProfile>
          </con:entry>
          <con:entry environmentId="dcf09228-28f0-461d-97ba-ae52da190086">
            <con:authProfile>QALATEST</con:authProfile>
          </con:entry>
          <con:entry environmentId="a4f87cd8-f67a-452d-bd63-2a15b6cdd2b6">
            <con:authProfile>Inherit From Parent</con:authProfile>
          </con:entry>
        </con:environmentSpec>
      </con:restRequest>
    </con:config>
  </con:testStep>
  <con:tearDownScript>import groovy.json.JsonOutput
import java.net.HttpURLConnection
import java.net.URL

// Function to post test result to TestRail
def postTestResultToTestRail() {

    def testRailUrl = context.expand('${#Project#TestRailUrl}')
    def testRailUsername = context.expand('${#Project#TestRailUserName}')
    def testRailApiKey = context.expand('${#Project#TestRailAPIkey}')

    def projectId = context.expand('${#Project#projectID}')
    def testRunId = context.expand('${#Project#RunID}')

    def testCaseId = context.expand('${#TestCase#TestCaseID}')
    def testCaseName = testRunner.testCase.name

    def failedTestSteps = []
    def result = ""
    def statusId = 1
    def comment = ""

    for (r in testRunner.results) {
        if (r.getStatus().toString() != "PASS") {
            def stepResult = context.expand('${' + r.testStep.name + '#Response}')
            failedTestSteps.add(r.testStep.name + (stepResult ? (" - " + stepResult) : ""))
        }
    }

    if (!failedTestSteps) {
        comment = "${testCaseName} has passed successfully"
    } else {
        statusId = 5
        comment = "${testCaseName} has failed on test steps:\n${failedTestSteps.join('\n')}"
    }

    def postUrl = "${testRailUrl}/add_result_for_case/${testRunId}/${testCaseId}"

    def connection = new URL(postUrl).openConnection() as HttpURLConnection
    connection.requestMethod = 'POST'
    connection.doOutput = true
    connection.setRequestProperty("Content-Type", "application/json")
    connection.setRequestProperty("Authorization", "Basic " + "${testRailUsername}:${testRailApiKey}".bytes.encodeBase64().toString())

    def requestBody = [
            status_id: statusId,
            comment: comment
    ]

    def outputStream = connection.outputStream
    outputStream.write(JsonOutput.toJson(requestBody).getBytes())
    outputStream.flush()

    def responseCode = connection.responseCode
    def responseMessage = connection.responseMessage

    log.info("Response code: ${responseCode}")
    log.info("Response message: ${responseMessage}")
}

postTestResultToTestRail()</con:tearDownScript>
  <con:properties>
    <con:property>
      <con:name>TestCaseID</con:name>
      <con:value>104545</con:value>
    </con:property>
  </con:properties>
  <con:reportParameters/>
  <con:environmentSpec>
    <con:entry environmentId="a4f87cd8-f67a-452d-bd63-2a15b6cdd2b6">
      <con:authProfile>Inherit From Parent</con:authProfile>
    </con:entry>
  </con:environmentSpec>
  <con:tagId>c4a9b3b0-fe4d-44b8-a1cd-e873e92e452a</con:tagId>
  <con:tagId>51a705db-8658-4c1c-8906-9eabeb6e3447</con:tagId>
</con:testCase>
